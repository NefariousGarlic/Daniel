<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Food Catching Game</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            background-color: #000;
        }
        canvas {
            display: block;
        }
    </style>
</head>
<body>
    <canvas id="gameCanvas"></canvas>
    <script>
        const canvas = document.getElementById("gameCanvas");
        const ctx = canvas.getContext("2d");

        // Set canvas dimensions
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        // Load images
        const characterNormal = new Image();
        characterNormal.src = 'danielbaldpants.png';
        const characterMouth = new Image();
        characterMouth.src = 'danielbaldmouth.png';

        const foodImages = [
            'burger.png',
            'ChickenWing.png',
            'eggplant.png',
            'cumber.png',
            'chip.png',
        ].map(src => {
            const img = new Image();
            img.src = src;
            return img;
        });

        // Game variables
        let characterX = canvas.width / 2 - 150;
        let characterY = canvas.height - 200;
        const characterSize = 300;
        let foodList = [];
        let score = 0;
        let gameDuration = 60; // seconds
        let startTime = Date.now();

        function resetGame() {
            foodList = [];
            score = 0;
            characterX = canvas.width / 2 - characterSize / 2;
            startTime = Date.now();
        }

        // Spawn food
        function spawnFood() {
            const foodX = Math.random() * (canvas.width - 100);
            const foodImage = foodImages[Math.floor(Math.random() * foodImages.length)];
            foodList.push({ x: foodX, y: 0, image: foodImage });
        }

        // Game loop
        function gameLoop() {
            const currentTime = Date.now();
            const elapsed = (currentTime - startTime) / 1000;

            // Clear canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Draw character
            const isFoodNearby = foodList.some(food => 
                food.y + 100 > characterY && food.y < characterY + characterSize &&
                food.x + 100 > characterX && food.x < characterX + characterSize
            );

            ctx.drawImage(isFoodNearby ? characterMouth : characterNormal, characterX, characterY, characterSize, characterSize);

            // Draw food
            for (let i = 0; i < foodList.length; i++) {
                const food = foodList[i];
                food.y += 5; // Fall speed
                ctx.drawImage(food.image, food.x, food.y, 100, 100);

                // Check for collision
                if (food.y + 100 > characterY && food.y < characterY + characterSize &&
                    food.x + 100 > characterX && food.x < characterX + characterSize) {
                    foodList.splice(i, 1);
                    score++;
                    i--;
                }

                // Remove food if it falls off screen
                if (food.y > canvas.height) {
                    foodList.splice(i, 1);
                    i--;
                }
            }

            // Display score and timer
            ctx.fillStyle = "#FFF";
            ctx.font = "40px Arial";
            ctx.fillText("Score: " + score, 20, 40);
            ctx.fillText("Time Left: " + Math.max(0, Math.floor(gameDuration - elapsed)) + "s", 20, 80);

            // Check if time is up
            if (elapsed >= gameDuration) {
                resetGame();
            }

            requestAnimationFrame(gameLoop);
        }

        // Handle keyboard input
        window.addEventListener('keydown', function(event) {
            if (event.key === 'ArrowLeft' || event.key === 'a') {
                characterX -= 10;
                if (characterX < 0) characterX = 0;
            } else if (event.key === 'ArrowRight' || event.key === 'd') {
                characterX += 10;
                if (characterX > canvas.width - characterSize) characterX = canvas.width - characterSize;
            }
        });

        // Start game
        setInterval(spawnFood, 1000); // Spawn food every second
        gameLoop();
    </script>
</body>
</html>
